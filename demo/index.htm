<!DOCTYPE HTML>

<html xmlns="http://www.w3.org/1999/html">
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<title>Taka demo</title>
	</head>
	
	<body>
		<div style="width:100%">
			<div style="width:300px; margin:10px auto;">
                <a href="build-test/coverage/total-report.html" target="_blank">unit test code coverage report</a><br />
                <a href="build/jsdoc3/docs/Taka.html" target="_blank">documentation</a><br />
				movement: arrow keys<br />
				shoot: space<br />
				pause: escape<br />
				<canvas id="TakaCanvas" width="300" height="400"></canvas>
				<div id="tracker"></div>
			</div>
		</div>

        <script src="http://cdnjs.cloudflare.com/ajax/libs/headjs/0.99/head.min.js"></script>
        <script>
            var useMinified = true;
            if (useMinified) {
                head.js('Taka-conf.js');
                head.js('js/Taka-min.js');
            } else {
                head.js('js/TakaConfig.js');
                head.js('js/Taka.js');
                head.js('js/utils/BoxUtil.js');
                head.js('js/core/Control.js');
                head.js('js/core/Engine.js');
                head.js('js/core/Renderer.js');
                head.js('js/core/Timer.js');
                head.js('js/assets/Cache.js');
                head.js('js/assets/Assets.js');
                head.js('js/vehicles/Vehicle.js');
                head.js('js/vehicles/PlayerVehicle.js');
                head.js('js/vehicles/DroneVehicle.js');
                head.js('js/vehicles/formations/Formation.js');
                head.js('js/vehicles/formations/A5Formation.js');
                head.js('js/vehicles/formations/V5Formation.js');
                head.js('js/ordnance/Bullet.js');
                head.js('js/ordnance/PlayerBullet.js');
                head.js('js/ordnance/SmallBullet.js');
                head.js('js/effects/Effect.js');
                head.js('js/effects/ExplosionEffect.js');
                head.js('js/levels/Level.js');
                head.js('js/levels/TestLevel.js');
            }
            head.ready(function() {
                var framenum = 0;
                var tracker = document.getElementById('tracker');
                var canvas = document.getElementById('TakaCanvas');

                Taka.core.Engine.Player(new Taka.vehicles.PlayerVehicle(121,300));
                Taka.core.Engine.Level(new Taka.levels.TestLevel());

                var callback = function() {
                    framenum++;
                    tracker.innerHTML = 'frame: ' + framenum +
                            '<br />fps:' + Taka.core.Engine.FPS() +
                            '<br />life: ' + Taka.core.Engine.Player().life;
                };

                Taka.start(canvas, callback);
            });
        </script>
	</body>
</html>